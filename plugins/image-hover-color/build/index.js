(()=>{"use strict";const e=window.wp.blocks,t=window.React,a=window.wp.blockEditor,l=window.wp.components,{useBlockProps:o}=wp.blockEditor,r=JSON.parse('{"UU":"create-block/image-hover-color","DD":"Image Hover Color","L1":"widgets","Kk":"smiley","h_":"Example block scaffolded with Create Block tool."}');(0,e.registerBlockType)(r.UU,{title:r.DD,description:r.h_,category:r.L1,icon:r.Kk,attributes:{imageUrl:{type:"string",source:"attribute",selector:"img",attribute:"src"},overlayText:{type:"string",default:"Ваш текст"},imageSize:{type:"number",default:100}},edit:({attributes:e,setAttributes:o})=>{const{imageUrl:r,overlayText:i="Ваш текст",imageSize:n=100,showOverlay:s=!0}=e;return(0,t.createElement)("div",{className:"image-hover-outer",...(0,a.useBlockProps)()},(0,t.createElement)(a.MediaUploadCheck,null,(0,t.createElement)(a.MediaUpload,{onSelect:e=>{o({imageUrl:e.url})},allowedTypes:["image"],render:({open:e})=>(0,t.createElement)(l.Button,{onClick:e,className:r?"button button-large":"button button-large button-secondary","aria-label":r?"Изображение выбрано":"Выберите изображение"},r?"Изображение выбрано":"Выберите изображение")})),r&&(0,t.createElement)("div",{className:"image-hover"},(0,t.createElement)("img",{className:"normal-image",src:r,alt:"Изображение",style:{width:`${n}%`,height:"auto"}}),s&&(0,t.createElement)("div",{className:"overlay"},(0,t.createElement)("div",{className:"overlay-content"},(0,t.createElement)("p",null,i)))),r&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(l.RangeControl,{label:"Размер изображения",value:n,onChange:e=>{o({imageSize:e})},min:10,max:100}),(0,t.createElement)(l.TextControl,{label:"Текст наложения",value:i,onChange:e=>{o({overlayText:e})}}),(0,t.createElement)(l.ToggleControl,{label:"Отображать наложение",checked:s,onChange:()=>{o({showOverlay:!s})}})))},save:({attributes:e})=>{const{imageUrl:a,overlayText:l="Ваш текст",imageSize:r=100,showOverlay:i=!0}=e;return console.log("Attributes in Save Component",{imageUrl:a,overlayText:l,imageSize:r,showOverlay:i}),(0,t.createElement)("div",{className:"image-hover-outer",...o.save()},a&&(0,t.createElement)("div",{className:"image-hover",style:{position:"relative",display:"inline-block",maxWidth:"100%",overflow:"hidden"}},(0,t.createElement)("img",{className:"normal-image",src:a,alt:l,style:{width:`${r}%`,height:"auto",transition:"transform 0.5s"}}),i&&(0,t.createElement)("div",{className:"overlay",style:{position:"absolute",top:0,left:0,width:`${r}%`,height:"100%"}},(0,t.createElement)("div",{className:"overlay-content"},(0,t.createElement)("p",null,l)))))}})})();